{"ast":null,"code":"var _jsxFileName = \"/Users/maartenvanmeeuwen/Documents/stream-productie/stream-frontend/src/Components/Dashboard/Dashboard.js\";\nimport React, { useContext, useState } from 'react';\nimport { AppContext } from '../Context';\nimport styled from 'styled-components';\nimport moment from 'moment';\nimport { Select, Typography, Spin, DatePicker, Row, Col } from 'antd';\nimport LineChart from './LineChart';\nimport group_month from './utils';\nconst {\n  Option\n} = Select;\nconst {\n  MonthPicker\n} = DatePicker;\nconst {\n  Title\n} = Typography;\nconst AppLayout = styled.div`\n  display: grid;\n  padding: 1em;\n  grid-template-columns: 1fr 3fr;\n  grid-template-rows: 1000px;\n`;\n\nconst Dashboard = () => {\n  const contextData = useContext(AppContext);\n  const documents = contextData['ledger'];\n  const entities = contextData['entities_list'];\n  console.log(entities);\n  const [selectedEntities, setSelectedEntities] = useState(entities);\n  const [variable, setVariable] = useState(\"notices\");\n  const dateFormat = 'YYYY-MM-DD';\n  const startStr = moment('2019-01-01', dateFormat);\n  const [startDate, setstartDate] = useState(startStr);\n  const now = moment().toDate();\n  const endStr = moment(now, dateFormat);\n  const [endDate, setendDate] = useState(endStr);\n\n  const handleentityChange = event => {\n    if (event.length == 0) {\n      setSelectedEntities(entities);\n    } else {\n      setSelectedEntities(event);\n    }\n  };\n\n  function handlestartChange(date, dateString) {\n    setstartDate(date);\n  }\n\n  function handleendChange(date, dateString) {\n    setendDate(date);\n  }\n\n  let dateFormatown = \"MM/DD/YYYY\";\n  const documents_filtered = [];\n  documents.map(item => {\n    let date_check = moment(item.notice_date, dateFormatown);\n    item.month = moment(item.notice_date).format('YYYY/MM');\n\n    if (selectedEntities.includes(item.entity_name) && date_check.isAfter(startDate) && date_check.isBefore(endDate)) {\n      documents_filtered.push(item);\n    }\n  });\n  const filtered_data = group_month(documents_filtered);\n  const entitieschildren = [];\n  entities.map(entity => {\n    entitieschildren.push( /*#__PURE__*/React.createElement(Option, {\n      key: entity,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 31\n      }\n    }, entity));\n  });\n  return /*#__PURE__*/React.createElement(AppLayout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: '20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    level: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, \"Selection criteria\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, \"Variable:\"), /*#__PURE__*/React.createElement(Select, {\n    style: {\n      width: 300\n    },\n    defaultValue: variable,\n    onChange: event => setVariable(event),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Option, {\n    value: \"dollar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }, \"Dollar value \"), /*#__PURE__*/React.createElement(Option, {\n    value: \"notices\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, \"Number of notices\")), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      paddingTop: '1em'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }, \"Legal entities\"), /*#__PURE__*/React.createElement(Select, {\n    style: {\n      width: 300\n    },\n    onChange: handleentityChange,\n    placeholder: \"All entities selected\",\n    mode: \"multiple\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, entitieschildren)), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      paddingTop: '1em'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    gutter: 10,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }, \"Starting date\"), /*#__PURE__*/React.createElement(MonthPicker, {\n    defaultValue: startStr,\n    onChange: handlestartChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }, \"Ending date:\"), /*#__PURE__*/React.createElement(MonthPicker, {\n    style: {\n      float: 'right'\n    },\n    defaultValue: endDate,\n    onChange: handleendChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: '20px',\n      marginLeft: '20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(LineChart, {\n    data: filtered_data,\n    variable: variable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  })));\n};\n\nexport default Dashboard;","map":{"version":3,"sources":["/Users/maartenvanmeeuwen/Documents/stream-productie/stream-frontend/src/Components/Dashboard/Dashboard.js"],"names":["React","useContext","useState","AppContext","styled","moment","Select","Typography","Spin","DatePicker","Row","Col","LineChart","group_month","Option","MonthPicker","Title","AppLayout","div","Dashboard","contextData","documents","entities","console","log","selectedEntities","setSelectedEntities","variable","setVariable","dateFormat","startStr","startDate","setstartDate","now","toDate","endStr","endDate","setendDate","handleentityChange","event","length","handlestartChange","date","dateString","handleendChange","dateFormatown","documents_filtered","map","item","date_check","notice_date","month","format","includes","entity_name","isAfter","isBefore","push","filtered_data","entitieschildren","entity","padding","width","paddingTop","float","marginLeft"],"mappings":"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","sourcesContent":["import React, {useContext, useState} from 'react';\nimport { AppContext } from '../Context';\nimport styled from 'styled-components';\nimport moment from 'moment';\n\n\nimport {Select, Typography, Spin, DatePicker, Row, Col} from 'antd';\n\n\nimport LineChart  from './LineChart'\n\nimport group_month from './utils'\n\nconst {Option} = Select;\nconst { MonthPicker } = DatePicker;\nconst {Title} = Typography;\n\nconst AppLayout = styled.div`\n  display: grid;\n  padding: 1em;\n  grid-template-columns: 1fr 3fr;\n  grid-template-rows: 1000px;\n`\n\nconst Dashboard = () => {\n    const contextData = useContext(AppContext)\n    const documents = contextData['ledger'];\n    const entities = contextData['entities_list']\n    console.log(entities)\n    const [selectedEntities, setSelectedEntities] = useState(entities)\n\n    const [variable, setVariable] = useState(\"notices\")\n    const dateFormat = 'YYYY-MM-DD';\n    const startStr = moment('2019-01-01', dateFormat) \n    const [startDate, setstartDate] = useState(startStr)\n    \n    const now = moment().toDate()\n    const endStr = moment(now, dateFormat) \n    const [endDate, setendDate] = useState(endStr)\n\n      \n\n    const handleentityChange = (event) => {\n      if (event.length == 0) {\n          setSelectedEntities(entities)\n      } else {\n          setSelectedEntities(event)\n      }\n  }\n\n  function handlestartChange(date, dateString) {\n    setstartDate(date)\n  }\n\n  function handleendChange(date, dateString) {\n    setendDate(date)\n}\n\n    let dateFormatown = \"MM/DD/YYYY\"\n    \n\n    const documents_filtered = []\n    documents.map(item => {\n          let date_check = moment(item.notice_date, dateFormatown)          \n          item.month = moment(item.notice_date).format('YYYY/MM')\n          if (selectedEntities.includes(item.entity_name) && \n             date_check.isAfter(startDate) &&\n             date_check.isBefore(endDate)\n          ) {\n            documents_filtered.push(item)\n          }\n    })\n    \n    const filtered_data = group_month(documents_filtered)\n\n   \n\n\n    const entitieschildren = []\n    entities.map(entity =>{\n        entitieschildren.push(<Option key={entity}>{entity}</Option>)\n    })\n\n    \n    return (\n        <AppLayout>\n            <div style ={{padding: '20px'}}>\n            <Title level={4}>\n                Selection criteria\n            </Title>\n            <p>\n            Variable:\n            </p>\n            <Select\n             style={{ width: 300 }}\n             defaultValue={variable}\n             onChange ={event => setVariable(event)}\n             >\n                <Option value=\"dollar\">Dollar value </Option>\n                <Option value=\"notices\">Number of notices</Option>\n            </Select>\n            \n            <div style = {{paddingTop: '1em'}}>\n                <p>\n            Legal entities \n            </p>\n            <Select\n             style={{ width: 300 }}\n             onChange={handleentityChange}\n             placeholder=\"All entities selected\"\n             mode=\"multiple\"\n             >\n               {entitieschildren}\n            </Select>\n            </div>\n            <div style = {{paddingTop: '1em'}}>\n            <Row gutter = {10}>\n                <Col>\n                <p>\n                Starting date\n                </p>\n                <MonthPicker \n            defaultValue={startStr}\n            onChange={handlestartChange}\n            />\n                </Col>\n            <Col>\n            <p>\n                Ending date:\n                </p>\n            <MonthPicker \n            style = {{float:'right'}}\n            defaultValue={endDate}\n            onChange={handleendChange}\n            />\n            </Col>\n            \n            \n            </Row>\n            </div>\n    \n        </div>\n\n\n        <div style ={{padding: '20px', \n                  marginLeft: '20px'}}>\n        \n    \n            <LineChart data = {filtered_data} variable = {variable}/>\n        </div>\n\n        \n        </AppLayout>\n\n\n        )\n    \n}\n\n\nexport default Dashboard;"]},"metadata":{},"sourceType":"module"}