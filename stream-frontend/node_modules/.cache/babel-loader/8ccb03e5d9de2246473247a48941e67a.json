{"ast":null,"code":"var _jsxFileName = \"/Users/maartenvanmeeuwen/Documents/stream-productie/stream-frontend/src/Components/Dashboard/Dashboard.js\";\nimport React, { useContext, useState } from 'react';\nimport { AppContext } from '../Context';\nimport styled from 'styled-components';\nimport moment from 'moment';\nimport { Select, Typography, Spin, DatePicker } from 'antd';\nimport LineChart from './LineChart';\nimport group_month from './utils';\nconst {\n  Option\n} = Select;\nconst {\n  MonthPicker\n} = DatePicker;\nconst {\n  Title\n} = Typography;\nconst AppLayout = styled.div`\n  display: grid;\n  padding: 1em;\n  grid-template-columns: 1fr 3fr;\n  grid-template-rows: 1000px;\n`;\n\nconst Dashboard = () => {\n  const contextData = useContext(AppContext);\n  const documents = contextData['ledger'];\n  const entities = contextData['entities_list'];\n  const [selectedEntities, setSelectedEntities] = useState(entities);\n  const [variable, setVariable] = useState(\"notices\");\n  const dateFormat = 'YYYY-MM-DD';\n  const startStr = moment('2019-01-01', dateFormat);\n  const [startDate, setstartDate] = useState(startStr);\n  const now = moment().toDate();\n  const endStr = moment(now, dateFormat);\n  const [endDate, setendDate] = useState(endStr);\n\n  const handleentityChange = event => {\n    if (event.length == 0) {\n      setSelectedEntities(entities);\n    } else {\n      setSelectedEntities(event);\n    }\n  };\n\n  function handlestartChange(date, dateString) {\n    console.log(date, dateString);\n    setstartDate(date);\n  }\n\n  function onendChange(date, dateString) {\n    console.log(date, dateString);\n    setendDate(date);\n  }\n\n  const test_doc = documents[0];\n  console.log(moment(test_doc, dateFormat));\n  const documents_filtered = [];\n  documents.map(item => {\n    item.month = moment(item.notice_date).format('YYYY/MM');\n\n    if (selectedEntities.includes(item.entity_name)) {\n      documents_filtered.push(item);\n    }\n  });\n  const filtered_data = group_month(documents, startDate, endDate, dateFormat);\n  const entitieschildren = [];\n  entities.map(entity => {\n    entitieschildren.push( /*#__PURE__*/React.createElement(Option, {\n      key: entity,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 31\n      }\n    }, entity));\n  });\n  return /*#__PURE__*/React.createElement(AppLayout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: '20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    level: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, \"Selection pane\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, \"Variable:\"), /*#__PURE__*/React.createElement(Select, {\n    style: {\n      width: 300\n    },\n    defaultValue: variable,\n    onChange: event => setVariable(event),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Option, {\n    value: \"dollar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, \"Dollar value \"), /*#__PURE__*/React.createElement(Option, {\n    value: \"notices\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, \"Number of notices\")), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, \"Legal entities\"), /*#__PURE__*/React.createElement(Select, {\n    style: {\n      width: 300\n    },\n    onChange: handleentityChange,\n    placeholder: \"All entities selected\",\n    mode: \"multiple\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }, entitieschildren), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }, \"Starting month:\"), /*#__PURE__*/React.createElement(MonthPicker, {\n    defaultValue: startStr,\n    onChange: handlestartChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: '20px',\n      marginLeft: '20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(LineChart, {\n    data: filtered_data,\n    variable: variable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  })));\n};\n\nexport default Dashboard;","map":{"version":3,"sources":["/Users/maartenvanmeeuwen/Documents/stream-productie/stream-frontend/src/Components/Dashboard/Dashboard.js"],"names":["React","useContext","useState","AppContext","styled","moment","Select","Typography","Spin","DatePicker","LineChart","group_month","Option","MonthPicker","Title","AppLayout","div","Dashboard","contextData","documents","entities","selectedEntities","setSelectedEntities","variable","setVariable","dateFormat","startStr","startDate","setstartDate","now","toDate","endStr","endDate","setendDate","handleentityChange","event","length","handlestartChange","date","dateString","console","log","onendChange","test_doc","documents_filtered","map","item","month","notice_date","format","includes","entity_name","push","filtered_data","entitieschildren","entity","padding","width","marginLeft"],"mappings":"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","sourcesContent":["import React, {useContext, useState} from 'react';\nimport { AppContext } from '../Context';\nimport styled from 'styled-components';\nimport moment from 'moment';\n\n\nimport {Select, Typography, Spin, DatePicker} from 'antd';\n\n\nimport LineChart  from './LineChart'\n\nimport group_month from './utils'\n\nconst {Option} = Select;\nconst { MonthPicker } = DatePicker;\nconst {Title} = Typography;\n\nconst AppLayout = styled.div`\n  display: grid;\n  padding: 1em;\n  grid-template-columns: 1fr 3fr;\n  grid-template-rows: 1000px;\n`\n\nconst Dashboard = () => {\n    const contextData = useContext(AppContext)\n    const documents = contextData['ledger'];\n    const entities = contextData['entities_list']\n    const [selectedEntities, setSelectedEntities] = useState(entities)\n\n    const [variable, setVariable] = useState(\"notices\")\n    const dateFormat = 'YYYY-MM-DD';\n    const startStr = moment('2019-01-01', dateFormat) \n    const [startDate, setstartDate] = useState(startStr)\n    const now = moment().toDate()\n    const endStr = moment(now, dateFormat) \n    const [endDate, setendDate] = useState(endStr)\n\n      \n\n    const handleentityChange = (event) => {\n      if (event.length == 0) {\n          setSelectedEntities(entities)\n      } else {\n          setSelectedEntities(event)\n      }\n  }\n\n  function handlestartChange(date, dateString) {\n    console.log(date, dateString);\n    setstartDate(date)\n  }\n\n  function onendChange(date, dateString) {\n    console.log(date, dateString);\n    setendDate(date)\n}\n\n\nconst test_doc = documents[0]\n    console.log(\n        moment(test_doc, dateFormat)\n    )\n\n\n\n    const documents_filtered = []\n    documents.map(item => {\n          item.month = moment(item.notice_date).format('YYYY/MM')\n          if (selectedEntities.includes(item.entity_name)) {\n            documents_filtered.push(item)\n          }\n    })\n    \n    const filtered_data = group_month(documents, startDate, endDate, dateFormat)\n\n   \n\n\n    const entitieschildren = []\n    entities.map(entity =>{\n        entitieschildren.push(<Option key={entity}>{entity}</Option>)\n    })\n\n    \n\n      \n    return (\n        <AppLayout>\n            <div style ={{padding: '20px'}}>\n            <Title level={4}>\n                Selection pane\n            </Title>\n            <p>\n            Variable:\n            </p>\n            <Select\n             style={{ width: 300 }}\n             defaultValue={variable}\n             onChange ={event => setVariable(event)}\n             >\n                <Option value=\"dollar\">Dollar value </Option>\n                <Option value=\"notices\">Number of notices</Option>\n            </Select>\n            <p>\n            Legal entities \n            </p>\n            <Select\n             style={{ width: 300 }}\n             onChange={handleentityChange}\n             placeholder=\"All entities selected\"\n             mode=\"multiple\"\n             >\n               {entitieschildren}\n            </Select>\n            <p>Starting month:</p>\n            <MonthPicker \n            defaultValue={startStr}\n            onChange={handlestartChange}/>\n    \n        </div>\n\n\n        <div style ={{padding: '20px', \n                  marginLeft: '20px'}}>\n           \n            \n            <LineChart data = {filtered_data} variable = {variable}/>\n        </div>\n\n        \n        </AppLayout>\n\n\n        )\n    \n}\n\n\nexport default Dashboard;"]},"metadata":{},"sourceType":"module"}