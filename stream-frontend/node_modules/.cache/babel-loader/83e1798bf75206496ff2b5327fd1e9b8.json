{"ast":null,"code":"var _jsxFileName = \"/Users/maartenvanmeeuwen/Documents/stream-productie/stream-frontend/src/Components/Confirmation/Confirmation.js\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport { AppContext } from '../Context';\nimport { map, without, filter } from 'lodash';\nimport { Storage } from 'aws-amplify';\nimport { Form, Input, Button, Select, message, Typography, AutoComplete, Row, Col, Checkbox, Progress, Result } from 'antd';\nimport styled from 'styled-components';\nimport { CheckOutlined, RollbackOutlined } from '@ant-design/icons';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nconst formItemLayout = {\n  labelCol: {\n    sm: {\n      span: 8\n    }\n  }\n};\n\nfunction isString(x) {\n  return Object.prototype.toString.call(x) === \"[object String]\";\n}\n\nconst {\n  TextArea\n} = Input;\nconst {\n  Title\n} = Typography;\nconst {\n  Option\n} = Select;\nconst AppLayout = styled.div`\n  display: grid;\n  padding: 2em;\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: 1000px;\n`;\n\nconst Confirmation = () => {\n  const data = useContext(AppContext);\n  const docData = data['demo']['Items'];\n  const entities_list = data['entities_list'];\n  const [count, setCount] = useState(0);\n  const [image, setImage] = useState(null);\n  const doc_unique_ids = [];\n  docData.map(notice => {\n    doc_unique_ids.push(notice.unique_id);\n  });\n\n  const fetchData = () => {\n    Storage.get(doc_unique_ids[count] + '.jpeg', {\n      level: 'public'\n    }).then(data => setImage(data)).catch(err => console.log(err));\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, [count]);\n  const data_elements = [\"TAX YEAR\", \"NOTICE DATE\", \"AMOUNT\", \"NOTICE NUMBER\", \"DUE DATE\"];\n  const initialValues = docData[count];\n  let keys = Object.keys(initialValues);\n  let values = Object.values(initialValues);\n  const initialFormValues = {};\n  keys.map(key => {\n    let item = initialValues[key];\n\n    if (isString(item)) {\n      initialFormValues[key] = item;\n    } else {\n      initialFormValues[key] = item[0];\n    }\n  });\n  const [form] = Form.useForm();\n  const document_types = [\"Announcement\", \"Refund\", \"Payment\"];\n  const document_type_json = [];\n  document_types.map(type => {\n    document_type_json.push({\n      'value': type\n    });\n  });\n  const entities_list_json = [];\n  entities_list.map(entity => {\n    entities_list_json.push({\n      'value': entity\n    });\n  });\n  const states = [\"Alabama\", \"Alaska\", \"Arkansas\", \"Arizona\", \"California\", \"Colorado\", \"Connecticut\", \"Delaware\", \"Florida\", \"Georgia\", \"Hawaii\", \"Iowa\", \"Idaho\", \"Illinois\", \"Indiana\", \"Kansas\", \"Kentucky\", \"Louisiana\", \"Maine\", \"Maryland\", \"Massachusetts\", \"Michigan\", \"Minnesota\", \"Missouri\", \"Mississippi\", \"Montana\", \"North Carolina\", \"North Dakota\", \"Nebraska\", \"New Hampshire\", \"New Jersey\", \"New Mexico\", \"Nevada\", \"New York\", \"Ohio\", \"Oklahoma\", \"Oregon\", \"Pennsylvania\", \"Rhode Island\", \"South Carolina\", \"South Dakota\", \"Tennessee\", \"Texas\", \"Utah\", \"Virginia\", \"Vermont\", \"Washington\", \"Wisconsin\", \"West Virginia\", \"Wyoming\"];\n  let statesjson = [];\n  states.map(state => {\n    statesjson.push({\n      'value': state\n    });\n  });\n  let announcement_types = [\"Apportionment issues\", \"Information request\", \"Audit\", \"Net operating losses\"];\n  let announcement_types_json = [];\n  announcement_types.map(type => {\n    announcement_types_json.push({\n      'value': type\n    });\n  });\n  let form_list = [/*#__PURE__*/React.createElement(Form.Item, {\n    name: \"state\",\n    label: \"STATE\",\n    key: \"state\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(AutoComplete, {\n    options: statesjson,\n    filterOption: (inputValue, option) => option.value.toUpperCase().indexOf(inputValue.toUpperCase()) !== -1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    size: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"document_type\",\n    label: \"NOTICE TYPE\",\n    key: \"document_type\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(AutoComplete, {\n    options: document_type_json,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    size: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"label\",\n    label: \"LABEL\",\n    key: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    size: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 17\n    }\n  }))];\n\n  if (keys.includes(\"announcement_type\")) {\n    let announcement_type_item = /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"ANNOUNCEMENT TYPE\",\n      name: \"announcement_type\",\n      key: \"announcement_type\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(AutoComplete, {\n      options: announcement_types_json,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      size: \"large\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 13\n      }\n    })));\n    form_list.push(announcement_type_item);\n  }\n\n  let entity_field = /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"entity_name\",\n    label: \"ENTITY\",\n    key: \"entity\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(AutoComplete, {\n    options: entities_list_json,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    size: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 18\n    }\n  })));\n  form_list.push(entity_field);\n  let id_field = /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"ID\",\n    label: \"ID\",\n    key: \"ID\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    size: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }\n  }));\n  form_list.push(id_field);\n  keys.map(field => {\n    if (data_elements.includes(field)) {\n      let defaultvalue = initialValues[field][0];\n      let optionvalues = [];\n      initialValues[field].map(option => {\n        optionvalues.push({\n          'value': option\n        });\n      });\n      let formitem = /*#__PURE__*/React.createElement(Form.Item, {\n        label: field,\n        name: field,\n        key: field,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 28\n        }\n      }, /*#__PURE__*/React.createElement(AutoComplete, {\n        options: optionvalues,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 34\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        size: \"large\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 33\n        }\n      })));\n      form_list.push(formitem);\n    }\n  });\n  let form_list_tail = /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"remarks\",\n    label: \"REMARKS\",\n    key: \"remarks\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(TextArea, {\n    placeholder: \"Additional remarks\",\n    autoSize: {\n      minRows: 2,\n      maxRows: 6\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 29\n    }\n  }));\n  form_list.push(form_list_tail);\n  const progress_percentage = Math.round(count / (docData.length - 1) * 100);\n\n  const showFeedback = () => {\n    message.info('Notice has been confirmed');\n    setCount(count + 1);\n    form.resetFields();\n  };\n\n  const showNegative = () => {\n    message.info('Notice will be manually reviewed');\n    setCount(count + 1);\n    form.resetFields();\n  };\n\n  if (count == 13) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Result, {\n      status: \"success\",\n      title: \"The backlog is empty!\",\n      extra: /*#__PURE__*/React.createElement(Button, {\n        type: \"primary\",\n        key: \"console\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/management\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 13\n        }\n      }, \"Go to Notice management\")),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 13\n      }\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(AppLayout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: image,\n    width: \"700px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"rightHandside\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: '1em'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"actualTitle\",\n    style: {\n      marginBottom: '1em'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    sm: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    level: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 25\n    }\n  }, \"Classification\"), JSON.stringify(initialValues.unique_id))), /*#__PURE__*/React.createElement(Progress, {\n    percent: progress_percentage,\n    status: \"active\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(Form, Object.assign({}, formItemLayout, {\n    layout: \"horizontal\",\n    form: form,\n    initialValues: initialFormValues,\n    onFinish: showFeedback,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 21\n    }\n  }), form_list.map(field => {\n    return field;\n  }), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    sm: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    style: {\n      float: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(CheckOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 33\n    }\n  }), \"Confirm classification\")))))));\n};\n\nexport default Confirmation;","map":{"version":3,"sources":["/Users/maartenvanmeeuwen/Documents/stream-productie/stream-frontend/src/Components/Confirmation/Confirmation.js"],"names":["React","useState","useContext","useEffect","AppContext","map","without","filter","Storage","Form","Input","Button","Select","message","Typography","AutoComplete","Row","Col","Checkbox","Progress","Result","styled","CheckOutlined","RollbackOutlined","BrowserRouter","Router","Route","Link","formItemLayout","labelCol","sm","span","isString","x","Object","prototype","toString","call","TextArea","Title","Option","AppLayout","div","Confirmation","data","docData","entities_list","count","setCount","image","setImage","doc_unique_ids","notice","push","unique_id","fetchData","get","level","then","catch","err","console","log","data_elements","initialValues","keys","values","initialFormValues","key","item","form","useForm","document_types","document_type_json","type","entities_list_json","entity","states","statesjson","state","announcement_types","announcement_types_json","form_list","inputValue","option","value","toUpperCase","indexOf","includes","announcement_type_item","entity_field","id_field","field","defaultvalue","optionvalues","formitem","form_list_tail","minRows","maxRows","progress_percentage","Math","round","length","showFeedback","info","resetFields","showNegative","padding","marginBottom","JSON","stringify","float"],"mappings":"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","sourcesContent":["import React, {useState, useContext, useEffect} from 'react';\nimport { AppContext } from '../Context';\nimport { map, without, filter} from 'lodash';\nimport { Storage } from 'aws-amplify'\nimport { Form, Input, Button, Select, message, Typography, AutoComplete, Row, Col, Checkbox, Progress, Result} from 'antd';\nimport styled from 'styled-components';\nimport { CheckOutlined, RollbackOutlined} from '@ant-design/icons';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\n\n\nconst formItemLayout = {\n    labelCol: {\n        sm: { span: 8 },\n    }, \n  \n};\n\n\nfunction isString(x) {\n    return Object.prototype.toString.call(x) === \"[object String]\"\n  }\n\n\nconst { TextArea } = Input;\nconst { Title } = Typography; \nconst { Option } = Select;\nconst AppLayout = styled.div`\n  display: grid;\n  padding: 2em;\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: 1000px;\n` \n\n\n\nconst Confirmation = () => {\n    \n    const data = useContext(AppContext)\n    const docData = data['demo']['Items']\n    const entities_list = data['entities_list']\n    const [count, setCount] = useState(0)\n    const [image, setImage] = useState(null)\n\n    const doc_unique_ids = []\n    docData.map(notice => {\n        doc_unique_ids.push(notice.unique_id)\n    })\n     \n    const fetchData = () => {\n        Storage.get(doc_unique_ids[count] + '.jpeg', {level: 'public'})\n        .then(data => setImage(data))\n        .catch(err => console.log(err))\n        }\n    \n    useEffect(() => {\n        fetchData();\n      }, [count]);\n    \n    \n    \n    const data_elements = [\"TAX YEAR\", \"NOTICE DATE\", \"AMOUNT\", \"NOTICE NUMBER\",  \"DUE DATE\"]\n\n    const initialValues = docData[count]\n    \n    \n    \n    let keys = Object.keys(initialValues)\n    let values = Object.values(initialValues)\n    const initialFormValues = {}\n    \n    keys.map(key => {\n        let item = initialValues[key]\n        if ( isString(item) ) {\n            initialFormValues[key]  = item\n        } else {\n            initialFormValues[key] = item[0]\n        }\n        \n    })\n\n    \n    const [form] = Form.useForm();\n    const document_types = [\"Announcement\", \"Refund\", \"Payment\"]\n    \n    const document_type_json = []\n    document_types.map(type => {\n        document_type_json.push({'value' : type})\n    })\n\n    const entities_list_json = []\n    entities_list.map(entity => {\n        entities_list_json.push({'value': entity})\n    })\n    \n\n    const states = [\"Alabama\",\"Alaska\",\"Arkansas\",\"Arizona\",\"California\",\"Colorado\",\"Connecticut\",\"Delaware\",\"Florida\",\"Georgia\",\"Hawaii\",\"Iowa\",\"Idaho\",\"Illinois\",\"Indiana\",\"Kansas\",\"Kentucky\",\"Louisiana\",\"Maine\",\"Maryland\",\"Massachusetts\",\"Michigan\",\"Minnesota\",\"Missouri\",\"Mississippi\",\"Montana\",\"North Carolina\",\"North Dakota\",\"Nebraska\",\"New Hampshire\",\"New Jersey\",\"New Mexico\",\"Nevada\",\"New York\",\"Ohio\",\"Oklahoma\",\"Oregon\",\"Pennsylvania\",\"Rhode Island\",\"South Carolina\",\"South Dakota\",\"Tennessee\",\"Texas\",\"Utah\",\"Virginia\",\"Vermont\",\"Washington\",\"Wisconsin\",\"West Virginia\",\"Wyoming\"]\n    let statesjson = []\n    states.map(state => {\n        statesjson.push({'value' : state})\n\n    })\n\n\n    let announcement_types = [\"Apportionment issues\", \"Information request\", \"Audit\", \"Net operating losses\"]\n    let announcement_types_json = []\n    announcement_types.map(type => {\n        announcement_types_json.push({'value' : type})\n\n    })\n \n\n\n    let form_list = [\n        <Form.Item\n            name = \"state\"\n            label = \"STATE\"\n            key =\"state\"\n        >\n            <AutoComplete\n                options = {statesjson}\n                filterOption={(inputValue, option) =>\n                    option.value.toUpperCase().indexOf(inputValue.toUpperCase()) !== -1\n            }>\n                <Input size = \"large\"/>\n            </AutoComplete>\n        </Form.Item>,\n       \n          <Form.Item\n          name = \"document_type\"\n          label = \"NOTICE TYPE\"\n          key = \"document_type\"       \n          >\n              <AutoComplete\n              options = {document_type_json}\n              >\n                  <Input size = \"large\"/>\n              </AutoComplete>\n            </Form.Item>,\n            <Form.Item\n                name = \"label\"\n                label = \"LABEL\"\n                key = \"label\"\n            >   \n                <Input size = \"large\"/>\n            </Form.Item>]\n\n\n\n\nif(keys.includes(\"announcement_type\")) {\n    let announcement_type_item = \n        <Form.Item\n            label = \"ANNOUNCEMENT TYPE\"\n            name = \"announcement_type\"\n            key = \"announcement_type\"\n        >\n\n        <AutoComplete\n            options = {announcement_types_json}>\n            <Input size = \"large\"/>\n        </AutoComplete>\n    \n        \n    </Form.Item>\nform_list.push(announcement_type_item)   \n\n\n   }\n\n\n\n\n\n  let entity_field =      <Form.Item\n             name = \"entity_name\"\n             label = \"ENTITY\"\n             key = \"entity\"\n             >   \n             <AutoComplete\n                 options = {entities_list_json}\n                 >         \n                 <Input size = \"large\"/>\n                 </AutoComplete>\n             </Form.Item>\n    \n    form_list.push(entity_field)   \n\n\n  let id_field =      <Form.Item\n  name = \"ID\"\n  label = \"ID\"\n  key = \"ID\"\n  >   \n           \n      <Input size = \"large\"/>\n  \n  </Form.Item>\n\nform_list.push(id_field)   \n\n    \n  \n\n    keys.map(field => {\n        if (data_elements.includes(field)) {\n    \n            let defaultvalue = initialValues[field][0]\n            let optionvalues = []\n            initialValues[field].map(option => {\n                optionvalues.push({'value' : option})\n            })\n\n            let formitem = <Form.Item\n                            label = {field}\n                            name = {field}\n                            key = {field}\n                            >\n                                 <AutoComplete\n                                    options = {optionvalues}\n                                 >\n                                <Input size = \"large\"/>\n                                </AutoComplete>\n                            </Form.Item>\n            form_list.push(formitem)   \n        } \n    })\n        let form_list_tail =  <Form.Item\n                                name=\"remarks\"\n                                label=\"REMARKS\"\n                                key=\"remarks\">\n                            <TextArea\n                                placeholder=\"Additional remarks\"\n                                autoSize={{ minRows: 2, maxRows: 6 }}\n                            />\n                            </Form.Item>         \n        form_list.push(form_list_tail)\n    const progress_percentage = Math.round((count/(docData.length-1))*100)\n\n    const showFeedback = () => {\n        message.info('Notice has been confirmed');\n        setCount(count + 1)\n        form.resetFields();\n    }\n\n    const showNegative = () => {\n        message.info('Notice will be manually reviewed');\n        setCount(count + 1)\n        form.resetFields();\n    }\n    \n    if (count == 13) {\n        return <>\n            <Result\n                status=\"success\"\n                title=\"The backlog is empty!\"\n                \n                    extra={\n      <Button type=\"primary\" key=\"console\">\n            <Link to ='/management' >Go to Notice management</Link>\n      </Button>}\n  />\n\n        </>\n\n\n    }\n    return <>\n        <AppLayout>\n            <div>\n            <img src = {image} width = '700px' />\n\n            </div>\n            <div className = \"rightHandside\">\n                <div style = {{padding: '1em'}}>\n                    <div className =\"actualTitle\" style ={{marginBottom: '1em'}}>     \n                    <Row>\n                        <Col sm={8}>\n                        </Col>\n                        <Col>\n                        <Title level = {4}> \n                            Classification\n                        </Title>\n                        {JSON.stringify(initialValues.unique_id)}\n                        </Col>\n                    </Row>    \n                        <Progress percent={progress_percentage} status=\"active\" />\n                    </div>\n                </div>\n                    <Form\n                        {...formItemLayout}\n                        layout = \"horizontal\"\n                        form = {form}\n                        initialValues={initialFormValues}\n                        onFinish = {showFeedback}\n                    >\n                        {form_list.map(field => {\n                            return (\n                                field\n                            )\n                        })\n                        }\n                        <Row>\n                            <Col sm={8}>\n                            </Col>\n                            <Col>\n                            <Button type = \"primary\" \n                                    htmlType = \"submit\"\n                                    style = {{float:'center'}}\n                                    >\n                                <CheckOutlined />\n                                Confirm classification\n                            </Button>\n                            </Col>\n                        </Row> \n                    </Form>\n            </div>\n        </AppLayout>\n\n    </> \n}\n\n\nexport default Confirmation;"]},"metadata":{},"sourceType":"module"}