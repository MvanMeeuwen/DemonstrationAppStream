{"ast":null,"code":"var _jsxFileName = \"/Users/maartenvanmeeuwen/Documents/stream-productie/stream-frontend/src/Components/NoticeManagement/NoticeManagement.js\";\nimport React, { useContext, useState } from 'react';\nimport { Button, Select, Divider, Typography, Table, Checkbox } from 'antd';\nimport { AppContext } from '../Context';\nimport styled from 'styled-components';\nimport moment from 'moment';\nimport { BrowserRouter as Router, Route, Link, useHistory } from \"react-router-dom\";\nimport { filter } from 'lodash';\nimport ReactExport from \"react-data-export\";\nimport Export from './Export';\nconst ExcelFile = ReactExport.ExcelFile;\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\nconst ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\nconst AppLayout = styled.div`\n  display: grid;\n  padding: 2em;\n  grid-template-columns: 1fr 4fr;\n  grid-template-rows: 1000px;\n`;\nconst {\n  Option\n} = Select;\nconst {\n  Title\n} = Typography;\nconst states = [\"Alabama\", \"Alaska\", \"Arizona\", \"Arkansas\", \"California\", \"Colorado\", \"Connecticut\", \"Delaware\", \"Florida\", \"Georgia\", \"Hawaii\", \"Idaho\", \"Illinois\", \"Indiana\", \"Iowa\", \"Kansas\", \"Kentucky\", \"Louisiana\", \"Maine\", \"Maryland\", \"Massachusetts\", \"Michigan\", \"Minnesota\", \"Mississippi\", \"Missouri\", \"Montana\", \"Nebraska\", \"Nevada\", \"New Hampshire\", \"New Jersey\", \"New Mexico\", \"New York\", \"North Carolina\", \"North Dakota\", \"Ohio\", \"Oklahoma\", \"Oregon\", \"Pennsylvania\", \"Rhode Island\", \"South Carolina\", \"South Dakota\", \"Tennessee\", \"Texas\", \"Utah\", \"Vermont\", \"Virginia\", \"Washington\", \"West Virginia\", \"Wisconsin\", \"Wyoming\"];\nconst years = [2015, 2016, 2017, 2018, 2019, 2020];\nconst columns = [{\n  title: 'STATE',\n  dataIndex: 'state',\n  key: 'state'\n}, {\n  title: 'ENTITY NAME',\n  dataIndex: 'entity_name',\n  key: 'entity'\n}, {\n  title: 'TAX YEAR',\n  dataIndex: 'tax_year',\n  key: 'tax_year'\n}, {\n  title: 'NOTICE DATE',\n  dataIndex: 'notice_date',\n  sorter: (a, b) => moment(a.notice_date).unix() - moment(b.notice_date).unix()\n}, {\n  title: 'AMOUNT USD',\n  dataIndex: 'amount',\n  key: 'amount',\n  sorter: (a, b) => a.amount - b.amount\n}, {\n  title: 'NOTICE TYPE',\n  dataIndex: 'document_type',\n  key: 'notice_type'\n}, {\n  title: 'ANNOUNCEMENT TYPE',\n  dataIndex: 'announcement_type',\n  key: 'announcement_type'\n}, {\n  title: 'STATUS',\n  dataIndex: 'status',\n  key: 'status'\n}, {\n  title: 'ACTION',\n  key: 'action',\n  render: (text, record) => {\n    if (record.document_type == \"Payment\") {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 25\n        }\n      }, \"Initiate payment\")));\n    } else if (record.document_type == \"Refund\") {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 17\n        }\n      }, \"Create accounting record\")));\n    }\n  }\n}];\n\nconst NoticeManagement = () => {\n  let history = useHistory();\n  const data = useContext(AppContext);\n  const documents = data['ledger'];\n  const entities = data['entities_list'];\n  const document_types = [\"Refund\", \"Payment\", \"Announcement\"];\n  const [selectedStates, setSelectedStates] = useState(states);\n  const [selectedEntities, setSelectedEntities] = useState(entities);\n  const [selectedYears, setSelectedYears] = useState(years);\n  const [selectedDocumentTypes, setSelectedDocumentTypes] = useState(document_types);\n\n  const handlestateChange = event => {\n    if (event.length == 0) {\n      setSelectedStates(states);\n    } else {\n      setSelectedStates(event);\n    }\n  };\n\n  const handleentityChange = event => {\n    if (event.length == 0) {\n      setSelectedEntities(entities);\n    } else {\n      setSelectedEntities(event);\n    }\n  };\n\n  const handleyearChange = event => {\n    let event_numeric = event.map(x => +x);\n\n    if (event_numeric.length == 0) {\n      setSelectedYears(years);\n    } else {\n      setSelectedYears(event_numeric);\n    }\n  };\n\n  const handledocumenttypeChange = event => {\n    let event_numeric = event.map(x => +x);\n\n    if (event_numeric.length == 0) {\n      setSelectedDocumentTypes(document_types);\n    } else {\n      setSelectedDocumentTypes(event);\n    }\n  };\n\n  const documents_multiple = [];\n  documents.map(item => {\n    if (selectedYears.includes(item.tax_year) && selectedEntities.includes(item.entity_name) && selectedStates.includes(item.state) && selectedDocumentTypes.includes(item.document_type)) {\n      if (item.third_party == true) {\n        item['thirdparty'] = \"Yes\";\n      } else {\n        item['thirdparty'] = \"No\";\n      }\n\n      documents_multiple.push(item);\n    }\n  });\n  const documents_exported = documents_multiple;\n  const documenttypechildren = [];\n  document_types.map(type => {\n    documenttypechildren.push( /*#__PURE__*/React.createElement(Option, {\n      key: type,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 39\n      }\n    }, type));\n  });\n  const statechildren = [];\n  states.map(state => {\n    statechildren.push( /*#__PURE__*/React.createElement(Option, {\n      key: state,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 32\n      }\n    }, state));\n  });\n  const entitychildren = [];\n  entities.map(entity => {\n    entitychildren.push( /*#__PURE__*/React.createElement(Option, {\n      key: entity,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 33\n      }\n    }, entity));\n  });\n  const yearschildren = [];\n  years.map(year => {\n    yearschildren.push( /*#__PURE__*/React.createElement(Option, {\n      key: year,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 28\n      }\n    }, year));\n  });\n\n  const handleRowClick = record => {\n    console.log(record.key);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(AppLayout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"selectionpane\",\n    style: {\n      paddingRight: '5px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    level: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 9\n    }\n  }, \" Selection criteria \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"block\",\n    style: {\n      display: 'block',\n      paddingBottom: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    level: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 9\n    }\n  }, \" Notice types\"), /*#__PURE__*/React.createElement(Select, {\n    mode: \"multiple\",\n    placeholder: \"All notice types selected\",\n    onChange: handledocumenttypeChange,\n    style: {\n      width: '80%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 13\n    }\n  }, documenttypechildren), /*#__PURE__*/React.createElement(Title, {\n    level: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 9\n    }\n  }, \" States\"), /*#__PURE__*/React.createElement(Select, {\n    mode: \"multiple\",\n    placeholder: \"All states selected\",\n    onChange: handlestateChange,\n    style: {\n      width: '80%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 13\n    }\n  }, statechildren), /*#__PURE__*/React.createElement(Title, {\n    level: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 13\n    }\n  }, \" Entities\"), /*#__PURE__*/React.createElement(Select, {\n    mode: \"multiple\",\n    placeholder: \"All entities selected\",\n    onChange: handleentityChange,\n    style: {\n      width: '80%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 13\n    }\n  }, entitychildren), /*#__PURE__*/React.createElement(Title, {\n    level: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 13\n    }\n  }, \" Years \"), /*#__PURE__*/React.createElement(Select, {\n    mode: \"multiple\",\n    placeholder: \"All years selected\",\n    onChange: handleyearChange,\n    style: {\n      width: '80%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 13\n    }\n  }, yearschildren)), Export(documents_exported)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    dataSource: documents_exported,\n    columns: columns,\n    onRow: record => ({\n      onClick: record => history.push(\"/document\")\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 13\n    }\n  }))));\n};\n\nexport default NoticeManagement;","map":{"version":3,"sources":["/Users/maartenvanmeeuwen/Documents/stream-productie/stream-frontend/src/Components/NoticeManagement/NoticeManagement.js"],"names":["React","useContext","useState","Button","Select","Divider","Typography","Table","Checkbox","AppContext","styled","moment","BrowserRouter","Router","Route","Link","useHistory","filter","ReactExport","Export","ExcelFile","ExcelSheet","ExcelColumn","AppLayout","div","Option","Title","states","years","columns","title","dataIndex","key","sorter","a","b","notice_date","unix","amount","render","text","record","document_type","NoticeManagement","history","data","documents","entities","document_types","selectedStates","setSelectedStates","selectedEntities","setSelectedEntities","selectedYears","setSelectedYears","selectedDocumentTypes","setSelectedDocumentTypes","handlestateChange","event","length","handleentityChange","handleyearChange","event_numeric","map","x","handledocumenttypeChange","documents_multiple","item","includes","tax_year","entity_name","state","third_party","push","documents_exported","documenttypechildren","type","statechildren","entitychildren","entity","yearschildren","year","handleRowClick","console","log","paddingRight","display","paddingBottom","width","onClick"],"mappings":"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","sourcesContent":["import React, {useContext, useState} from 'react'\nimport { Button, Select, Divider, Typography, Table, Checkbox} from 'antd';\nimport { AppContext } from '../Context';\nimport styled from 'styled-components';\nimport moment from 'moment'\nimport { BrowserRouter as Router, Route, Link, useHistory} from \"react-router-dom\";\nimport { filter } from 'lodash'\nimport ReactExport from \"react-data-export\";\n\n\nimport Export from './Export'\n\nconst ExcelFile = ReactExport.ExcelFile;\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\nconst ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\n\n\nconst AppLayout = styled.div`\n  display: grid;\n  padding: 2em;\n  grid-template-columns: 1fr 4fr;\n  grid-template-rows: 1000px;\n`\n\nconst { Option } = Select;\nconst { Title } = Typography;\n\nconst states = [\"Alabama\", \"Alaska\", \"Arizona\", \"Arkansas\", \"California\", \"Colorado\", \"Connecticut\", \"Delaware\", \"Florida\", \"Georgia\", \"Hawaii\", \"Idaho\", \"Illinois\", \"Indiana\", \"Iowa\", \"Kansas\", \"Kentucky\", \"Louisiana\", \"Maine\", \"Maryland\", \"Massachusetts\", \"Michigan\", \"Minnesota\", \"Mississippi\", \"Missouri\", \"Montana\", \"Nebraska\", \"Nevada\", \"New Hampshire\", \"New Jersey\", \"New Mexico\", \"New York\", \"North Carolina\", \"North Dakota\", \"Ohio\", \"Oklahoma\", \"Oregon\", \"Pennsylvania\", \"Rhode Island\", \"South Carolina\", \"South Dakota\", \"Tennessee\", \"Texas\", \"Utah\", \"Vermont\", \"Virginia\", \"Washington\", \"West Virginia\", \"Wisconsin\", \"Wyoming\"]\nconst years = [2015, 2016, 2017, 2018, 2019, 2020]\n\n\nconst columns = [\n    {\n        title: 'STATE',\n        dataIndex: 'state',\n        key: 'state'\n      },\n    {\n      title: 'ENTITY NAME',\n      dataIndex: 'entity_name',\n      key: 'entity'\n    },\n    {\n        title: 'TAX YEAR',\n        dataIndex: 'tax_year',\n        key: 'tax_year'\n      },\n    {\n        title: 'NOTICE DATE',\n        dataIndex: 'notice_date',\n        sorter: (a, b) => moment(a.notice_date).unix() - moment(b.notice_date).unix()\n      },\n      {\n        title: 'AMOUNT USD',\n        dataIndex: 'amount',\n        key: 'amount',\n        sorter: (a, b) => a.amount - b.amount,\n      },\n      {\n        title: 'NOTICE TYPE',\n        dataIndex: 'document_type',\n        key: 'notice_type'\n      },\n      {\n        title: 'ANNOUNCEMENT TYPE',\n        dataIndex: 'announcement_type',\n        key: 'announcement_type'\n      },\n      {\n        title: 'STATUS',\n        dataIndex: 'status',\n        key: 'status'\n      },\n\n    {\n        title: 'ACTION',\n        key: 'action',\n        render: (text, record) => {\n\n                if (record.document_type == \"Payment\") {\n                    return <>\n                    <span>  \n                        <Link >\n                            Initiate payment                       \n                            </Link>\n                    </span >\n                </>\n            } else if (record.document_type == \"Refund\") {\n                return <>\n            <span>  \n                <Link >\n                    Create accounting record                     \n                    </Link>\n            </span >\n        </>\n            } \n        }\n                 \n        \n       }\n  ]\n  \n\n\nconst NoticeManagement = () => {\n    let history = useHistory();\n\n    const data = useContext(AppContext)\n    const documents = data['ledger']\n    const entities = data['entities_list']\n\n    const document_types = [\"Refund\", \"Payment\", \"Announcement\"]\n\n    const [selectedStates, setSelectedStates] = useState(states)\n    const [selectedEntities, setSelectedEntities] = useState(entities)\n    const [selectedYears, setSelectedYears] = useState(years)\n    const [selectedDocumentTypes, setSelectedDocumentTypes] = useState(document_types)\n\n    const handlestateChange = (event) => {\n        if (event.length == 0) {\n            setSelectedStates(states)\n        } else {\n            setSelectedStates(event)\n        }\n    }\n\n    const handleentityChange = (event) => {\n        if (event.length == 0) {\n            setSelectedEntities(entities)\n        } else {\n            setSelectedEntities(event)\n        }\n    }\n\n    const handleyearChange = (event) => {\n        let event_numeric = event.map(x => +x)\n        if (event_numeric.length == 0) {\n            setSelectedYears(years)\n        } else {\n            setSelectedYears(event_numeric)\n        }\n    }\n\n    const handledocumenttypeChange = (event) => {\n        let event_numeric = event.map(x => +x)\n        if (event_numeric.length == 0) {\n            setSelectedDocumentTypes(document_types)\n        } else {\n            setSelectedDocumentTypes(event)\n        }\n    }\n \n\n    const documents_multiple = []\n    documents.map(item => {\n        if(selectedYears.includes(item.tax_year) && \n           selectedEntities.includes(item.entity_name) && \n           selectedStates.includes(item.state) &&\n           selectedDocumentTypes.includes(item.document_type)\n           ) {\n            if (item.third_party == true ) {\n                item['thirdparty'] = \"Yes\"\n            } else {\n                item['thirdparty'] = \"No\"\n            }\n\n            documents_multiple.push(item)\n        }\n    })\n    \n\n    const documents_exported = documents_multiple;\n\n\n\n    const documenttypechildren = [];\n    document_types.map(type =>{\n            documenttypechildren.push(<Option key={type}>{type}</Option>)\n    })\n    \n    const statechildren = [];\n    states.map(state =>{\n            statechildren.push(<Option key={state}>{state}</Option>)\n    })\n\n    const entitychildren = [];\n    entities.map(entity =>{\n            entitychildren.push(<Option key={entity}>{entity}</Option>)\n    })\n\n    const yearschildren = []\n    years.map(year =>{\n        yearschildren.push(<Option key={year}>{year}</Option>)\n    })\n\n    const handleRowClick = (record) => {\n        console.log(record.key)\n    }\n\n    return <>\n        <AppLayout>\n        <div className=\"selectionpane\" style = {{paddingRight: '5px'}}>\n        <Title level = {2}> Selection criteria </Title>\n        <div className = \"block\" style = {{display: 'block', paddingBottom: \"20px\"}}>\n\n        <Title level = {4}> Notice types</Title>\n            <Select\n                    mode=\"multiple\"\n                    placeholder=\"All notice types selected\"\n                    onChange={handledocumenttypeChange}\n                    style={{ width: '80%' }}\n                >\n                    {documenttypechildren}\n            </Select>\n\n        <Title level = {4}> States</Title>\n            <Select\n                    mode=\"multiple\"\n                    placeholder=\"All states selected\"\n                    onChange={handlestateChange}\n                    style={{ width: '80%' }}\n                >\n                    {statechildren}\n            </Select>\n\n            <Title level = {4}> Entities</Title>\n            <Select\n                    mode=\"multiple\"\n                    placeholder=\"All entities selected\"\n                    onChange={handleentityChange}\n                    style={{ width: '80%' }}\n                >\n                    {entitychildren}\n            </Select>\n\n            <Title level = {4}> Years </Title>\n            <Select\n                    mode=\"multiple\"\n                    placeholder=\"All years selected\"\n                    onChange= {handleyearChange}\n                    style={{ width: '80%' }}\n                >\n                    {yearschildren}\n            </Select>\n\n        \n                \n            </div>\n\n            {Export(documents_exported)}\n            </div>\n\n\n\n            <div className = \"table\">\n\n            <Table   \n                dataSource={documents_exported} \n                columns={columns} \n                onRow = {record =>({\n                    onClick:(record)=>\n                            history.push(\"/document\") \n                })}\n                />\n\n\n            </div>\n\n        </AppLayout>\n    </>\n}\n\n\nexport default NoticeManagement;"]},"metadata":{},"sourceType":"module"}